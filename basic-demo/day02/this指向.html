<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test this</title>
</head>
<body>
<script>
    // 全局环境
    console.log(this);

    let f1 = function () {
        console.log(this);
    };
    document.onclick = f1;

    f1(); // Window
    document.onclick(); // #document

    let f2 = () => {
        console.log(this);
    };
    document.onclick = f2;

    f2(); // Window
    document.onclick(); // Window

    this.x = 9;    // this 指向全局的 "window" 对象
    let module = {
        x: 81,
        getX: function() {
            console.log(this.x);
        },
        _getX: () => {
            console.log(this.x);
        }
    };
    module.getX(); // 81
    module._getX(); // 9

    // 尝试使用call来设定this
    module.getX.call(this); //
    module._getX.call(module); //

    let getX = module.getX.bind(this),
        _getX = module._getX.bind(module);
    getX();
    _getX();

    class Test {
        constructor() {
            this.num = 5;
            this.getNum = function () {
                console.log(this.num);
            };
        }
    }
    let t = new Test();
    t.getNum();

</script>
</body>
</html>